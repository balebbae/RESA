{{define "subject"}}Your Schedule for {{.ScheduleStart}} - {{.ScheduleEnd}}{{end}}

{{define "body"}}
<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
      }
      h2 {
        color: #2c3e50;
        margin-bottom: 10px;
      }
      h3 {
        color: #34495e;
        border-bottom: 2px solid #ecf0f1;
        padding-bottom: 10px;
        margin-top: 30px;
      }
      .shift-card {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 12px 16px;
        margin-bottom: 12px;
        background-color: #f9f9f9;
      }
      .shift-date {
        font-weight: bold;
        font-size: 16px;
        margin-bottom: 4px;
        color: #2c3e50;
      }
      .shift-time {
        color: #555;
        margin-bottom: 8px;
      }
      .shift-role {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 4px;
        font-size: 13px;
        color: white;
        font-weight: 500;
      }
      .shift-notes {
        margin-top: 10px;
        padding: 10px;
        background-color: #fff3cd;
        border-radius: 4px;
        border-left: 3px solid #ffc107;
        font-size: 14px;
      }
      .shift-notes strong {
        color: #856404;
      }
      .event-card {
        border-left: 4px solid #007bff;
        padding: 12px 16px;
        margin-bottom: 12px;
        background-color: #e7f3ff;
        border-radius: 0 8px 8px 0;
      }
      .event-title {
        font-weight: bold;
        font-size: 16px;
        color: #0056b3;
        margin-bottom: 4px;
      }
      .event-time {
        color: #555;
        margin-bottom: 8px;
      }
      .event-description {
        color: #666;
        font-size: 14px;
      }
      .no-shifts {
        color: #666;
        font-style: italic;
        padding: 20px;
        text-align: center;
        background-color: #f5f5f5;
        border-radius: 8px;
      }
      .footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #ecf0f1;
        color: #666;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <h2>Hi {{.EmployeeName}},</h2>

    <p>Here is your schedule at <strong>{{.RestaurantName}}</strong> for the week of <strong>{{.ScheduleStart}}</strong> to <strong>{{.ScheduleEnd}}</strong>.</p>

    <h3>Your Shifts</h3>
    {{if .HasShifts}}
      {{range .Shifts}}
      <div class="shift-card">
        <div class="shift-date">{{.Date}}</div>
        <div class="shift-time">{{.StartTime}} - {{.EndTime}}</div>
        <span class="shift-role" style="background-color: {{.RoleColor}};">{{.RoleName}}</span>
        {{if .Notes}}
        <div class="shift-notes">
          <strong>Note:</strong> {{.Notes}}
        </div>
        {{end}}
      </div>
      {{end}}
    {{else}}
      <div class="no-shifts">
        You have no shifts scheduled for this week.
      </div>
    {{end}}

    {{if .HasEvents}}
    <h3>Events This Week</h3>
    {{range .Events}}
    <div class="event-card">
      <div class="event-title">{{.Title}}</div>
      <div class="event-time">{{.Date}} | {{.StartTime}} - {{.EndTime}}</div>
      {{if .Description}}
      <p class="event-description">{{.Description}}</p>
      {{end}}
    </div>
    {{end}}
    {{end}}

    <div class="footer">
      <p>If you have any questions about your schedule, please contact your manager.</p>
      <p>Thanks,<br/><strong>The {{.RestaurantName}} Team</strong></p>
    </div>
  </body>
</html>
{{end}}
